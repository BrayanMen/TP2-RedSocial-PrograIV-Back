## BACKEND (NestJS)

### Sprint 1

#### M√≥dulo `authentication`

- [ ] **POST /register**
  - [ ] Validar DTO y datos del usuario.
  - [ ] Encriptar contrase√±a (`PasswordService`).
  - [ ] Guardar imagen de perfil y almacenar URL (`UploadService`).
  - [ ] Guardar usuario en MongoDB (`UserRepository`).
- [ ] **POST /login**
  - [ ] Validar credenciales (correo o username).
  - [ ] Comparar contrase√±a encriptada.
  - [ ] Generar token JWT (`JwtService`).
  - [ ] Devolver `AuthResponseDTO` con datos del usuario y token.

#### Infraestructura

- [ ] Crear `authentication.controller.ts`
- [ ] Configurar m√≥dulo global de JWT (`jwt.module.ts` o integraci√≥n en `authentication.module.ts`)
- [ ] Conexi√≥n MongoDB (`config/db-config`)
- [ ] Validaciones con `class-validator` en DTOs

---

### Sprint 2

#### M√≥dulo `publications`

- [ ] **POST /posts**
  - [ ] Crear publicaci√≥n con t√≠tulo, descripci√≥n, imagen (opcional).
  - [ ] Asociar usuario.
  - [ ] Guardar imagen en servidor o servicio de uploads.
- [ ] **DELETE /posts/:id**
  - [ ] Baja l√≥gica (solo autor o admin).
- [ ] **GET /posts**
  - [ ] Listar publicaciones con paginaci√≥n (offset, limit).
  - [ ] Ordenar por fecha o cantidad de likes.
  - [ ] Filtrar por usuario (query param).
- [ ] **POST /posts/:id/like**
  - [ ] Agregar ‚Äúme gusta‚Äù (solo 1 por usuario).
- [ ] **DELETE /posts/:id/unlike**
  - [ ] Quitar ‚Äúme gusta‚Äù.

#### üß±Estructura recomendada

- `application/use-cases/posts/create-post.use-case.ts`
- `application/use-cases/posts/delete-post.use-case.ts`
- `application/use-cases/posts/get-feed.use-case.ts`
- `application/use-cases/likes/like-post.use-case.ts`
- `application/use-cases/likes/unlike-post.use-case.ts`
- `infrastructure/controllers/posts.controller.ts`
- `infrastructure/controllers/likes.controller.ts`

---

### Sprint 3

#### üí¨ M√≥dulo `comments` (dentro de `publications`)

- [ ] **POST /posts/:id/comments**
  - [ ] Crear comentario vinculado al post y usuario.
- [ ] **PUT /comments/:id**
  - [ ] Editar comentario ‚Üí marcar `modified: true`.
- [ ] **GET /posts/:id/comments**
  - [ ] Listar comentarios (paginados, recientes primero).

#### M√≥dulo `authentication`

- [ ] Generar JWT con payload (`uuid | email | username | role`).
- [ ] Duraci√≥n: 15 min.
- [ ] **POST /authorize**
  - [ ] Validar token (401 si inv√°lido o expirado).
- [ ] **POST /refresh**
  - [ ] Refrescar token si sigue v√°lido (nuevo token 15 min m√°s).

---

### Sprint 4

#### üë•M√≥dulo `users`

- [ ] **GET /users**
  - [ ] Listar usuarios (solo admin).
- [ ] **POST /users**
  - [ ] Alta nuevo usuario (rol `usuario` o `admin`).
- [ ] **DELETE /users/:id**
  - [ ] Baja l√≥gica (deshabilitar usuario).
- [ ] **POST /users/:id/enable**
  - [ ] Reactivar usuario.
- [ ] Validar que el token pertenezca a un admin.

#### M√≥dulo `analytics`

- [ ] **GET /analytics/posts**
  - [ ] Cantidad de publicaciones por usuario en un lapso.
- [ ] **GET /analytics/comments**
  - [ ] Cantidad de comentarios en un lapso.
- [ ] **GET /analytics/posts/comments**
  - [ ] Comentarios por publicaci√≥n en un lapso.
- [ ] Validar token admin en todas las rutas.

---
